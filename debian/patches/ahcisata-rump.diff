diff --git a/buildrump.sh/src/sys/dev/ic/ahcisata_core.c b/buildrump.sh/src/sys/dev/ic/ahcisata_core.c
index 8c4c8db2..4418ac85 100644
--- a/buildrump.sh/src/sys/dev/ic/ahcisata_core.c
+++ b/buildrump.sh/src/sys/dev/ic/ahcisata_core.c
@@ -959,7 +959,7 @@ ahci_exec_command(struct ata_drive_datas *drvp, struct ata_command *ata_c)
 	} else {
 		if (ata_c->flags & AT_WAIT) {
 			while ((ata_c->flags & AT_DONE) == 0) {
-				tsleep(ata_c, PRIBIO, "ahcicmd", 0);
+				tsleep(ata_c, PRIBIO, "ahcicmd", mstohz(100));
 			}
 			ret = ATACMD_COMPLETE;
 		} else {
diff --git a/buildrump.sh/src/sys/rump/dev/Makefile.rumpdevcomp b/buildrump.sh/src/sys/rump/dev/Makefile.rumpdevcomp
index 272304e3..44b607f6 100644
--- a/buildrump.sh/src/sys/rump/dev/Makefile.rumpdevcomp
+++ b/buildrump.sh/src/sys/rump/dev/Makefile.rumpdevcomp
@@ -8,6 +8,7 @@ RUMPDEVCOMP=	audio bpf cgd disk dm drvctl fss md netsmb		\
 RUMPUSBDEVS=	ubt ucom ugenhc ulpt umass usb
 
 RUMPPCIDEVS=	pci pci_if_iwn pci_if_pcn pci_if_wm
+RUMPPCIDEVS+=	pci_ahcisata
 RUMPPCIDEVS+=	pci_piixide
 RUMPPCIDEVS+=	pci_usbhc
 RUMPPCIDEVS+=	pci_virtio virtio_if_vioif virtio_ld virtio_viornd
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/AHCISATA.ioconf b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/AHCISATA.ioconf
new file mode 100644
index 00000000..2b7263bf
--- /dev/null
+++ b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/AHCISATA.ioconf
@@ -0,0 +1,19 @@
+ioconf ahcisata
+
+include "conf/files"
+include "dev/ata/files.ata"
+include "dev/pci/files.pci"
+include "rump/dev/files.rump"
+
+pseudo-root pci*
+
+# AHCI support
+ahcisata*	at pci? dev ? function ?
+atabus*		at ahcisata? channel ?
+ata_hl*		at atabus? drive ?
+
+# Disks
+wd*     	at ata_hl?
+
+# ATAPI support
+atapi*		at ahcisata?
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/Makefile b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/Makefile
new file mode 100644
index 00000000..1f6b870e
--- /dev/null
+++ b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/Makefile
@@ -0,0 +1,21 @@
+.PATH:	${.CURDIR}/../../../../dev/pci \
+	${.CURDIR}/../../../../dev/ata \
+	${.CURDIR}/../../../../dev/scsipi \
+	${.CURDIR}/../../../../dev/ic
+
+LIB=	rumpdev_ahcisata
+COMMENT=AHCI support with SATA && ATAPI
+
+IOCONF=	AHCISATA.ioconf
+
+SRCS+=	ahcisata_pci.c
+SRCS+=	sata_subr.c satafis_subr.c
+SRCS+=	ahcisata_core.c
+SRCS+=	atapi_wdc.c atapi_base.c
+SRCS+=	wd.c ata.c ata_wdc.c
+SRCS+=	wdc.c
+
+SRCS+=	ahcisata_component.c
+
+.include <bsd.lib.mk>
+.include <bsd.klinks.mk>
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/ahcisata_component.c b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/ahcisata_component.c
new file mode 100644
index 00000000..0cc9f481
--- /dev/null
+++ b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/ahcisata_component.c
@@ -0,0 +1,28 @@
+#include <sys/param.h>
+#include <sys/conf.h>
+#include <sys/device.h>
+#include <sys/kmem.h>
+#include <sys/stat.h>
+
+#include "ioconf.c"
+
+#include <rump-sys/kern.h>
+#include <rump-sys/vfs.h>
+
+RUMP_COMPONENT(RUMP_COMPONENT_DEV)
+{
+	extern struct bdevsw wd_bdevsw;
+	extern struct cdevsw wd_cdevsw;
+	devmajor_t bmaj, cmaj;
+
+	config_init_component(cfdriver_ioconf_ahcisata,
+	    cfattach_ioconf_ahcisata, cfdata_ioconf_ahcisata);
+
+	bmaj = cmaj = -1;
+	FLAWLESSCALL(devsw_attach("wd", &wd_bdevsw, &bmaj, &wd_cdevsw, &cmaj));
+
+	FLAWLESSCALL(rump_vfs_makedevnodes(S_IFBLK, "/dev/wd0", 'a',
+	    bmaj, 0, 8));
+	FLAWLESSCALL(rump_vfs_makedevnodes(S_IFCHR, "/dev/rwd0", 'a',
+	    cmaj, 0, 8));
+}
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/ataraid.h b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/ataraid.h
new file mode 100644
index 00000000..e69de29b
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/opt_ata.h b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/opt_ata.h
new file mode 100644
index 00000000..e69de29b
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/opt_wdc.h b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/opt_wdc.h
new file mode 100644
index 00000000..ad9cf43a
--- /dev/null
+++ b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/opt_wdc.h
@@ -0,0 +1,3 @@
+#define NWD	1
+#define NSATA	1
+#define WDC_NO_IDS
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/sata.h b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/sata.h
new file mode 100644
index 00000000..e69de29b
diff --git a/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/sata_pmp.h b/buildrump.sh/src/sys/rump/dev/lib/libpci_ahcisata/sata_pmp.h
new file mode 100644
index 00000000..e69de29b
